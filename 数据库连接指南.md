# FitChallenge 数据库连接指南

## 📊 当前数据库配置

### 数据库信息
- **数据库类型**: MySQL/MariaDB
- **主机地址**: localhost
- **端口**: 3306
- **用户名**: root
- **密码**: fitchallenge123
- **数据库名**: fitchallenge

### 连接字符串
```
mysql://root:fitchallenge123@localhost:3306/fitchallenge
```

## 🔧 推荐的GUI工具

### 1. MySQL Workbench（推荐）
- **下载地址**: https://dev.mysql.com/downloads/workbench/
- **优点**: 官方工具，功能完整，免费
- **连接步骤**:
  1. 打开MySQL Workbench
  2. 点击"+"创建新连接
  3. 输入连接信息：
     - Connection Name: FitChallenge
     - Hostname: localhost
     - Port: 3306
     - Username: root
     - Password: fitchallenge123
  4. 点击"Test Connection"测试连接
  5. 点击"OK"保存连接

### 2. phpMyAdmin（Web版）
- **安装**: 通过XAMPP或WAMP安装
- **优点**: 基于Web，易于使用
- **访问**: http://localhost/phpmyadmin
- **连接**: 使用相同的数据库凭据

### 3. DBeaver（通用工具）
- **下载地址**: https://dbeaver.io/
- **优点**: 支持多种数据库，功能强大
- **连接步骤**:
  1. 打开DBeaver
  2. 点击"新建连接"
  3. 选择"MySQL"
  4. 输入连接信息
  5. 测试并保存连接

### 4. Navicat（商业工具）
- **优点**: 界面友好，功能强大
- **缺点**: 需要付费
- **连接**: 使用相同的连接参数

## ⚠️ MongoDB Compass 不兼容说明

### 为什么不兼容？
1. **数据库类型不同**：
   - 项目使用：MySQL（关系型数据库）
   - MongoDB Compass支持：MongoDB（文档型数据库）

2. **连接协议不同**：
   - MySQL：使用SQL协议和TCP连接
   - MongoDB：使用BSON协议和TCP连接

3. **数据格式不同**：
   - MySQL：表格结构，行和列
   - MongoDB：文档结构，JSON格式

### 如果一定要使用MongoDB
需要完全重构项目：
1. 安装MongoDB数据库
2. 重写所有数据库操作代码
3. 修改数据模型
4. 更新API接口
5. 迁移现有数据

**工作量估计**: 2-3天
**风险等级**: 高

## 🧪 连接测试

### 使用命令行测试
```bash
# 测试MySQL连接
mysql -h localhost -P 3306 -u root -p fitchallenge
# 输入密码: fitchallenge123
```

### 使用PowerShell测试
```powershell
# 检查MySQL服务状态
Get-Service -Name "*mysql*"
Get-Service -Name "*mariadb*"

# 测试端口连接
Test-NetConnection -ComputerName localhost -Port 3306
```

## 📋 数据库表结构

### 主要数据表
- `users` - 用户信息
- `user_wallets` - 用户钱包
- `user_achievements` - 用户成就
- `vip_levels` - VIP等级
- `admin_users` - 管理员用户
- `wallet_transactions` - 钱包交易记录
- `achievements` - 成就定义
- `checkin_records` - 签到记录
- `team_statistics` - 团队统计

### 查看表结构
```sql
-- 查看所有表
SHOW TABLES;

-- 查看表结构
DESCRIBE users;
DESCRIBE user_wallets;
DESCRIBE vip_levels;
```

## 🔍 故障排除

### 连接失败
1. **检查MySQL服务**：
   ```powershell
   Get-Service -Name "*mysql*"
   Start-Service -Name "MariaDB"  # 如果需要启动
   ```

2. **检查端口占用**：
   ```powershell
   netstat -ano | findstr ":3306"
   ```

3. **检查防火墙**：
   - 确保防火墙允许3306端口

### 权限问题
```sql
-- 创建新用户（如果需要）
CREATE USER 'fitchallenge'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON fitchallenge.* TO 'fitchallenge'@'localhost';
FLUSH PRIVILEGES;
```

## 📞 技术支持

如果遇到连接问题，请提供：
- 错误信息截图
- MySQL服务状态
- 端口占用情况
- GUI工具版本信息
